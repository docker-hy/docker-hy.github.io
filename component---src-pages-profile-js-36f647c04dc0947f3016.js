(self.webpackChunkohjelmoinnin_mooc=self.webpackChunkohjelmoinnin_mooc||[]).push([[486],{73206:function(e,t,n){"use strict";var r=n(67294),a=n(73935),i=n(70703),o=n(11291),s=n(57544);function l(e){return e.substring(2).toLowerCase()}t.Z=function(e){var t=e.children,n=e.disableReactTree,u=void 0!==n&&n,c=e.mouseEvent,m=void 0===c?"onClick":c,d=e.onClickAway,h=e.touchEvent,p=void 0===h?"onTouchEnd":h,f=r.useRef(!1),v=r.useRef(null),g=r.useRef(!1),E=r.useRef(!1);r.useEffect((function(){return setTimeout((function(){g.current=!0}),0),function(){g.current=!1}}),[]);var _=r.useCallback((function(e){v.current=a.findDOMNode(e)}),[]),Z=(0,o.Z)(t.ref,_),b=(0,s.Z)((function(e){var t=E.current;if(E.current=!1,g.current&&v.current&&!function(e){return document.documentElement.clientWidth<e.clientX||document.documentElement.clientHeight<e.clientY}(e))if(f.current)f.current=!1;else{var n;if(e.composedPath)n=e.composedPath().indexOf(v.current)>-1;else n=!(0,i.Z)(v.current).documentElement.contains(e.target)||v.current.contains(e.target);n||!u&&t||d(e)}})),k=function(e){return function(n){E.current=!0;var r=t.props[e];r&&r(n)}},C={ref:Z};return!1!==p&&(C[p]=k(p)),r.useEffect((function(){if(!1!==p){var e=l(p),t=(0,i.Z)(v.current),n=function(){f.current=!0};return t.addEventListener(e,b),t.addEventListener("touchmove",n),function(){t.removeEventListener(e,b),t.removeEventListener("touchmove",n)}}}),[b,p]),!1!==m&&(C[m]=k(m)),r.useEffect((function(){if(!1!==m){var e=l(m),t=(0,i.Z)(v.current);return t.addEventListener(e,b),function(){t.removeEventListener(e,b)}}}),[b,m]),r.createElement(r.Fragment,null,r.cloneElement(t,C))}},62944:function(e,t,n){"use strict";var r=n(81253),a=n(96156),i=n(22122),o=n(67294),s=n(85505),l=n(34621),u=n(381),c=n(73206),m=n(57544),d=n(81664),h=n(88231),p=n(43337),f=n(58337),v=o.forwardRef((function(e,t){var n=e.action,a=e.anchorOrigin,l=(a=void 0===a?{vertical:"bottom",horizontal:"center"}:a).vertical,v=a.horizontal,g=e.autoHideDuration,E=void 0===g?null:g,_=e.children,Z=e.classes,b=e.className,k=e.ClickAwayListenerProps,C=e.ContentProps,x=e.disableWindowBlurListener,y=void 0!==x&&x,w=e.message,I=e.onClose,L=e.onEnter,S=e.onEntered,O=e.onEntering,P=e.onExit,N=e.onExited,T=e.onExiting,F=e.onMouseEnter,M=e.onMouseLeave,R=e.open,D=e.resumeHideDuration,W=e.TransitionComponent,B=void 0===W?p.Z:W,j=e.transitionDuration,z=void 0===j?{enter:u.x9.enteringScreen,exit:u.x9.leavingScreen}:j,A=e.TransitionProps,H=(0,r.Z)(e,["action","anchorOrigin","autoHideDuration","children","classes","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onClose","onEnter","onEntered","onEntering","onExit","onExited","onExiting","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"]),V=o.useRef(),U=o.useState(!0),G=U[0],Y=U[1],q=(0,m.Z)((function(){I&&I.apply(void 0,arguments)})),X=(0,m.Z)((function(e){I&&null!=e&&(clearTimeout(V.current),V.current=setTimeout((function(){q(null,"timeout")}),e))}));o.useEffect((function(){return R&&X(E),function(){clearTimeout(V.current)}}),[R,E,X]);var J=function(){clearTimeout(V.current)},K=o.useCallback((function(){null!=E&&X(null!=D?D:.5*E)}),[E,D,X]);return o.useEffect((function(){if(!y&&R)return window.addEventListener("focus",K),window.addEventListener("blur",J),function(){window.removeEventListener("focus",K),window.removeEventListener("blur",J)}}),[y,K,R]),!R&&G?null:o.createElement(c.Z,(0,i.Z)({onClickAway:function(e){I&&I(e,"clickaway")}},k),o.createElement("div",(0,i.Z)({className:(0,s.Z)(Z.root,Z["anchorOrigin".concat((0,d.Z)(l)).concat((0,d.Z)(v))],b),onMouseEnter:function(e){F&&F(e),J()},onMouseLeave:function(e){M&&M(e),K()},ref:t},H),o.createElement(B,(0,i.Z)({appear:!0,in:R,onEnter:(0,h.Z)((function(){Y(!1)}),L),onEntered:S,onEntering:O,onExit:P,onExited:(0,h.Z)((function(){Y(!0)}),N),onExiting:T,timeout:z,direction:"top"===l?"down":"up"},A),_||o.createElement(f.Z,(0,i.Z)({message:w,action:n},C)))))}));t.Z=(0,l.Z)((function(e){var t={top:8},n={bottom:8},r={justifyContent:"flex-end"},o={justifyContent:"flex-start"},s={top:24},l={bottom:24},u={right:24},c={left:24},m={left:"50%",right:"auto",transform:"translateX(-50%)"};return{root:{zIndex:e.zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},anchorOriginTopCenter:(0,i.Z)({},t,(0,a.Z)({},e.breakpoints.up("sm"),(0,i.Z)({},s,m))),anchorOriginBottomCenter:(0,i.Z)({},n,(0,a.Z)({},e.breakpoints.up("sm"),(0,i.Z)({},l,m))),anchorOriginTopRight:(0,i.Z)({},t,r,(0,a.Z)({},e.breakpoints.up("sm"),(0,i.Z)({left:"auto"},s,u))),anchorOriginBottomRight:(0,i.Z)({},n,r,(0,a.Z)({},e.breakpoints.up("sm"),(0,i.Z)({left:"auto"},l,u))),anchorOriginTopLeft:(0,i.Z)({},t,o,(0,a.Z)({},e.breakpoints.up("sm"),(0,i.Z)({right:"auto"},s,c))),anchorOriginBottomLeft:(0,i.Z)({},n,o,(0,a.Z)({},e.breakpoints.up("sm"),(0,i.Z)({right:"auto"},l,c)))}}),{flip:!1,name:"MuiSnackbar"})(v)},58337:function(e,t,n){"use strict";var r=n(81253),a=n(96156),i=n(22122),o=n(67294),s=n(85505),l=n(34621),u=n(58063),c=n(37595),m=o.forwardRef((function(e,t){var n=e.action,a=e.classes,l=e.className,c=e.message,m=e.role,d=void 0===m?"alert":m,h=(0,r.Z)(e,["action","classes","className","message","role"]);return o.createElement(u.Z,(0,i.Z)({role:d,square:!0,elevation:6,className:(0,s.Z)(a.root,l),ref:t},h),o.createElement("div",{className:a.message},c),n?o.createElement("div",{className:a.action},n):null)}));t.Z=(0,l.Z)((function(e){var t="light"===e.palette.type?.8:.98,n=(0,c._4)(e.palette.background.default,t);return{root:(0,i.Z)({},e.typography.body2,(0,a.Z)({color:e.palette.getContrastText(n),backgroundColor:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:e.shape.borderRadius,flexGrow:1},e.breakpoints.up("sm"),{flexGrow:"initial",minWidth:288})),message:{padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}}}),{name:"MuiSnackbarContent"})(m)},38015:function(e,t,n){"use strict";var r=n(92137),a=n(41788),i=n(87757),o=n.n(i),s=n(67294),l=n(85420),u=n(29114),c=n(1097),m=n(48086),d=n(22702),h=n(31690),p=n(89711),f=n(31295),v=n(90058),g=n(92206),E=n(87198),_=n(83332),Z=n(65769),b=n(52311),k=n(82441),C=n(84119),x=n(13578),y=n(50238),w=C.ZP.div.withConfig({displayName:"CourseOptionsEditor__Row",componentId:"sc-15i8a3h-0"})(["margin-bottom:1.5rem;"]),I=C.ZP.form.withConfig({displayName:"CourseOptionsEditor__Form",componentId:"sc-15i8a3h-1"})([""]),L=C.ZP.div.withConfig({displayName:"CourseOptionsEditor__InfoBox",componentId:"sc-15i8a3h-2"})(["margin-bottom:2rem;"]),S=C.ZP.div.withConfig({displayName:"CourseOptionsEditor__FormContainer",componentId:"sc-15i8a3h-3"})(["height:100%;margin-top:2rem;"]),O=(0,C.ZP)(l.Z).withConfig({displayName:"CourseOptionsEditor__WarningBox",componentId:"sc-15i8a3h-4"})(["margin:2rem 0;background:#f1a9a0;padding:1rem;font-weight:bold;"]),P=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(t=e.call(this,...a)||this).onClick=function(){var e=(0,r.Z)(o().mark((function e(n){var r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),t.setState({submitting:!0}),r={digital_education_for_all:t.state.digital_education_for_all,use_course_variant:t.state.use_course_variant,course_variant:t.state.course_variant,marketing:t.state.marketing,research:t.state.research},a={first_name:t.state.first_name,last_name:t.state.last_name,organizational_id:t.state.student_number},e.prev=4,e.next=7,(0,b.ek)({extraFields:r,userField:a});case 7:t.setState({submitting:!1}),t.props.onComplete(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),t.setState({errorObj:e.t0,submitting:!1});case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}(),t.state={submitting:!1,error:!0,errorObj:void 0,digital_education_for_all:!1,marketing:!1,research:void 0,first_name:void 0,last_name:void 0,use_course_variant:void 0,course_variant:"",course_variants:[],email:void 0,student_number:void 0,loading:!0,focused:null},t.handleInput=function(e){var n,r=e.target.name,a=e.target.value;t.setState(((n={})[r]=a,n),(function(){t.validate()}))},t.handleCheckboxInput=function(e){var n,r=e.target.name,a=e.target.checked;t.setState(((n={})[r]=a,n),(function(){t.validate()}))},t.handleCourseVariantCheckbox=function(e){t.setState({use_course_variant:e.target.checked,course_variant:""},(function(){t.validate()}))},t.handleFocus=function(e){var n=e.target.name;t.setState({focused:n})},t.handleUnFocus=function(){t.setState({focused:null})},t.validate=function(){t.setState((function(e){var t=void 0===e.research,n=e.use_course_variant&&!e.course_variant;return{error:t||n}}))},t}(0,a.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=(0,r.Z)(o().mark((function e(){var t,n,r,a,i,s,l,u,c,m,d,h,p,f=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,b.$V)();case 2:return m=e.sent,e.next=5,(0,b.lI)();case 5:d=e.sent,h="t"===(null===(t=m.extra_fields)||void 0===t?void 0:t.use_course_variant),p=null!==(n=null===(r=m.extra_fields)||void 0===r?void 0:r.course_variant)&&void 0!==n?n:"",d.find((function(e){return e.key===p}))||(h=!1,p=""),this.setState({first_name:null===(a=m.user_field)||void 0===a?void 0:a.first_name,last_name:null===(i=m.user_field)||void 0===i?void 0:i.last_name,email:m.email,student_number:null===(s=m.user_field)||void 0===s?void 0:s.organizational_id,digital_education_for_all:"t"===(null===(l=m.extra_fields)||void 0===l?void 0:l.digital_education_for_all),use_course_variant:h,course_variant:p,course_variants:d,marketing:"t"===(null===(u=m.extra_fields)||void 0===u?void 0:u.marketing),research:null===(c=m.extra_fields)||void 0===c?void 0:c.research,loading:!1},(function(){f.validate()}));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.render=function(){return s.createElement(S,null,s.createElement(k.Z,{loading:this.state.loading,heightHint:"490px"},s.createElement(L,null,s.createElement(l.Z,null,s.createElement(u.Z,null,this.props.t("loggedInWith"),this.state.email)))),s.createElement("h1",null,this.props.t("studentInfo")),s.createElement(I,null,s.createElement(L,null,this.props.t("aboutYourself")),s.createElement(k.Z,{loading:this.state.loading,heightHint:"490px"},s.createElement("div",null,s.createElement(w,null,s.createElement(c.Z,{variant:"outlined",type:"text",label:this.props.t("firstName"),autoComplete:"given-name",name:"first_name",InputLabelProps:{shrink:this.state.first_name||"first_name"===this.state.focused},fullWidth:!0,value:this.state.first_name,onChange:this.handleInput,onFocus:this.handleFocus,onBlur:this.handleUnFocus})),s.createElement(w,null,s.createElement(c.Z,{variant:"outlined",type:"text",label:this.props.t("lastName"),autoComplete:"family-name",name:"last_name",InputLabelProps:{shrink:this.state.last_name||"last_name"===this.state.focused},fullWidth:!0,value:this.state.last_name,onChange:this.handleInput,onFocus:this.handleFocus,onBlur:this.handleUnFocus})),s.createElement(w,null,s.createElement(c.Z,{variant:"outlined",type:"text",label:this.props.t("sid"),name:"student_number",InputLabelProps:{shrink:this.state.student_number||"student_number"===this.state.focused},fullWidth:!0,value:this.state.student_number,onChange:this.handleInput,helperText:this.props.t("nosid"),onFocus:this.handleFocus,onBlur:this.handleUnFocus})),s.createElement(w,null,s.createElement(m.Z,{control:s.createElement(d.Z,{checked:this.state.digital_education_for_all,onChange:this.handleCheckboxInput,name:"digital_education_for_all",value:"1"}),label:"Olen tällä hetkellä opiskelijana Digital Education for All -hankkeessa. Jätä tämä valitsematta mikäli et tiedä kyseisestä hankkeesta."})),s.createElement(w,null,s.createElement(m.Z,{control:s.createElement(d.Z,{checked:this.state.marketing,onChange:this.handleCheckboxInput,name:"marketing",value:"1"}),label:this.props.t("marketing")})),0===this.state.course_variants.length?null:s.createElement("div",null,s.createElement("h2",null,this.props.t("courseInfo")),s.createElement(w,null,s.createElement(m.Z,{control:s.createElement(d.Z,{checked:this.state.use_course_variant,onChange:this.handleCourseVariantCheckbox,name:"use_course_variant",value:"1"}),disabled:0===this.state.course_variants.length,label:this.props.t("useCourseVariantLabel")})),s.createElement(w,null,s.createElement(h.Z,{fullWidth:!0,variant:"outlined"},s.createElement(p.Z,{id:"select-course",shrink:this.state.course_variant||"course_variant"===this.state.focused},this.props.t("courseVariant")),s.createElement(f.Z,{key:this.state.use_course_variant,disabled:!this.state.use_course_variant,labelId:"select-course",label:this.props.t("courseVariant"),name:"course_variant",value:this.state.course_variant,onChange:this.handleInput,onFocus:this.handleFocus,onBlur:this.handleUnFocus},s.createElement(v.Z,{value:"",disabled:!0},this.props.t("chooseCourse")),this.state.course_variants.map((function(e){var t=e.tmcOrganization+"-"+e.tmcCourse;return s.createElement(v.Z,{value:t,key:t},e.organizationName,": ",e.title)})))))))),s.createElement("h2",null,this.props.t("researchTitle")),s.createElement("p",null,this.props.t("research1")),s.createElement("ol",null,s.createElement("li",null,this.props.t("research2")),s.createElement("li",null,this.props.t("research3")),s.createElement("li",null,this.props.t("research4"))),s.createElement("p",null,this.props.t("research5"),s.createElement(Z.MS,{href:"https://dl.acm.org/citation.cfm?id=2858798",target:"_blank",rel:"noopener noreferrer"},"Educational Data Mining and Learning Analytics in Programming: Literature Review and Case Studies"),"."),s.createElement("p",null,this.props.t("research6")),s.createElement("p",null,this.props.t("research7")),s.createElement(w,null,s.createElement(k.Z,{loading:this.state.loading,heightHint:"115px"},s.createElement(g.Z,{"aria-label":this.props.t("researchAgree"),name:"research",value:this.state.research,onChange:this.handleInput},s.createElement(m.Z,{value:"1",control:s.createElement(E.Z,{color:"primary"}),label:this.props.t("researchYes")}),s.createElement(m.Z,{value:"0",control:s.createElement(E.Z,null),label:this.props.t("researchNo")})))),s.createElement(w,null,s.createElement(_.Z,{onClick:this.onClick,disabled:this.state.submitting||this.state.error,loading:this.state.submitting,variant:"contained",color:"primary",fullWidth:!0},this.props.t("save")))),this.state.error&&s.createElement(L,null,s.createElement("b",null,this.props.t("fillRequired"))),this.state.errorObj&&s.createElement(O,null,this.state.errorObj.toString()))},t}(s.Component);t.Z=(0,y.Z)("common")((0,x.Z)(P))},65826:function(e,t,n){"use strict";n.r(t);var r=n(92137),a=n(41788),i=n(87757),o=n.n(i),s=n(67294),l=n(35414),u=n(84119),c=n(3772),m=n(38015),d=n(25444),h=n(54021),p=n(86810),f=n(65769),v=n(52311),g=n(77606),E=n(88014),_=n(62944),Z=n(58337),b=(0,u.ZP)(Z.Z).withConfig({displayName:"profile__StyledSnackbarContent",componentId:"sc-3be922-0"})(["background-color:#43a047 !important;"]),k=(0,u.ZP)(g.G).withConfig({displayName:"profile__StyledIcon",componentId:"sc-3be922-1"})(["margin-right:0.5rem;"]),C=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call(this,...r)||this).state={successMessage:null},t.onStepComplete=function(){t.setState({successMessage:"Tiedot tallennettu!"})},t.handleClose=function(){t.setState({successMessage:null})},t}(0,a.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=(0,r.Z)(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.context.loggedIn){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,v.gb)();case 4:n=e.sent,void 0===(null==n||null===(t=n.extra_fields)||void 0===t?void 0:t.research)&&(0,d.navigate)("/missing-info");case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.render=function(){return this.context.loggedIn?s.createElement(c.Z,null,s.createElement(p.Z,null,s.createElement(l.Z,{title:"Profiili"}),s.createElement("h1",null,"Profiili"),s.createElement("p",null,"Täällä voit muokata mooc.fi -tilisi asetuksia tämän kurssin osalta. Katso myös profiilisi mooc.fi:n Test My Code -palvelussa:"," ",s.createElement(f.MS,{href:"https://tmc.mooc.fi",rel:"noopener noreferrer"},"https://tmc.mooc.fi"),"."),s.createElement(m.Z,{onComplete:this.onStepComplete})),s.createElement(_.Z,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:this.state.successMessage,autoHideDuration:6e3,onClose:this.handleClose},s.createElement(b,{variant:"success",message:s.createElement(s.Fragment,null,s.createElement(k,{icon:E.f8k})," ",s.createElement("span",null,this.state.successMessage))}))):("undefined"!=typeof window&&(0,d.navigate)("/sign-in"),s.createElement("div",null,"Redirecting..."))},t}(s.Component);C.contextType=h.ZP,t.default=(0,h._N)(C)}}]);
//# sourceMappingURL=component---src-pages-profile-js-36f647c04dc0947f3016.js.map